<ion-view view-title="Register">
  <ion-content class="padding-top">
    <div class="text-center padding-top">
      <i class="icon ion-android-person-add larger positive"></i>
    </div>
    <form name="registerForm" novalidate ng-submit="registerForm.$valid && register(user)"
    ng-class="{ 'has-error' : registerForm.txtemail.$invalid && registerForm.$submitted }">
    <div class="list">
        
        <label class="item item-input item-floating-label">
          <span class="input-label">Full Name</span>
        <input name="txtname" type="text" ng-model="user.name" placeholder="Your Full Name"
        ng-minlength="3"
        ng-maxlength="30"
        required>
      </label>
      <div class="form-errors" ng-messages="registerForm.txtname.$error" ng-if="registerForm.$submitted">
        <div class="form-error" ng-message="required">Please Enter Your Full Name</div>
        <div class="form-error" ng-message="minlength">Ops, Too Short...</div>
        <div class="form-error" ng-message="maxlength">Ops, Too Long...</div>
      </div>
        
        <label class="item item-input item-floating-label">
          <span class="input-label">Email</span>
        <input name="txtemail" type="email" ng-model="user.email" placeholder="Email"
        ng-minlength="5"
        ng-maxlength="30"
        required>
      </label>
      <div class="form-errors" ng-messages="registerForm.txtemail.$error" ng-if="registerForm.$submitted">
        <div class="form-error" ng-message="required">Enter an email simillar to name@gamil-for-example.com.</div>
        <div class="form-error" ng-message="email">This field is must be an email.</div>
        <div class="form-error" ng-message="maxlength">Ops, parece ser muy grande el correo.</div>
      </div>
        <label class="item item-input item-floating-label" ng-class="{ 'has-error-lr' : registerForm.txtpassword.$invalid  && registerForm.$submitted}">
        <span class="input-label">Password</span>
        <input name="txtpassword" type="password" ng-model="user.password" placeholder="Password"
        ng-minlength="5"
        ng-maxlength="25"
        required>
      </label>


      <div class="form-errors" ng-messages="registerForm.txtpassword.$error" ng-if="registerForm.$submitted">
        <div class="form-error" ng-message="required">You Must Enter a Password.</div>
        <div class="form-error" ng-message="minlength">Password is Too Short.</div>
        <div class="form-error" ng-message="maxlength">Password is Too Long.</div>
        <div class="form-error" ng-message="pattern">Please only use letters and numbers.</div>
      </div>
        

            <ion-radio name="radioWorker" ng-model="user.userType" ng-value="'WORKER'" ng-required="!user.userType">I'm an Employee...</ion-radio>
            
            <ion-radio name="radioEmp"  ng-model="user.userType" ng-value="'EMPLOYER'" ng-required="!user.userType">I'm The Boss...</ion-radio>
        
        
         <div class="form-errors" ng-messages="registerForm.radioWorker.$error && registerForm.radioEmp.$error" ng-if="registerForm.$submitted">
            <div class="form-error" ng-message="required">Are You an Employer Or an Employee?</div>
        </div>
        
        <label class="item item-input item-floating-label" ng-show="user.userType === 'EMPLOYER'">
            <span class="input-label">Company Name</span>
            <input name="txtCompName" type="text" ng-model="user.companyName" placeholder="Company Name"
            ng-minlength="2"
            ng-maxlength="30"
            ng-required="user.userType === 'EMPLOYER'">
        </label>
        
        <div class="form-errors" ng-messages="registerForm.txtCompName.$error" ng-if="registerForm.$submitted && user.userType === 'EMPLOYER'">
            <div class="form-error" ng-message="required">You Must Enter a Company Name.</div>
            <div class="form-error" ng-message="minlength">Company Name is Too Short.</div>
            <div class="form-error" ng-message="maxlength">Company Name is Too Long.</div>
        </div>
        
    </div>
    <div class="padding-top">
      <input type="submit" value="Register" class="button button-block button-large button-positive"/>
    </div>
  </form>
    <button ng-click="back();" class="button button-block button-assertive">Cancel</button>
  </ion-content>
</ion-view>
